(this.webpackJsonpservice=this.webpackJsonpservice||[]).push([[0],{104:function(e,t,a){e.exports=a(137)},109:function(e,t,a){},114:function(e,t,a){},134:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),c=a.n(i),o=(a(109),a(7)),l=a(17),s=a(20),u=a(12),m=a(58),d=a.n(m),p=a(3),g=a(189),h=a(185),f=a(186),b=a(184),E=a(60),v=a(181),O=a(176),j=a(178),w=a(179),y=a(180),x=a(95),k=a.n(x),N=a(96),S=a.n(N),P=a(26),B=a(57),L=Object(B.b)({name:"auth",initialState:{authenticated:!1},reducers:{logIn:function(e){e.authenticated=!0},logOut:function(e){e.authenticated=!1}}}),A=L.actions,z=A.logIn,C=A.logOut,W=function(e){return e.auth.authenticated},D=L.reducer,R=a(89),F=a(172),I=a(190),_=Object(F.a)((function(e){return Object(I.a)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(o.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(R.a)({display:"flex",alignItems:"center",justifyContent:"flex-start",padding:e.spacing(0,1)},e.mixins.toolbar),content:{marginTop:e.spacing(7),flexGrow:1,padding:e.spacing(3)},icon:Object(o.a)({fontSize:40,marginRight:e.spacing(2)},e.breakpoints.down("xs"),{fontSize:30,marginRight:e.spacing(3)})})})),q=(a(114),a(59)),G=a.n(q),J="http://https://spring-boot-oauth2-products.herokuapp.com",T=function(e){var t=localStorage.getItem("token"),a={};return null!=t&&(a={crossDomain:!0,headers:{Authorization:"Bearer "+t}}),a},H=function(e,t,a,n){G.a.delete(J+t+e,T()).then((function(){a()})).catch((function(e){n({screenData:[]}),console.log(e)}))},U=function(e,t){G.a.get(J+e,T()).then((function(e){t({screenData:e.data}),console.log(e)})).catch((function(e){t({screenData:[]}),console.log(e)}))},M=a(177),Q=a(138),X=a(54),$=a.n(X),K=Object(F.a)((function(e){return Object(I.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),fontSize:"0.9em",textAlign:"left",marginBottom:"2%",marginLeft:"auto",marginRight:"auto",maxWidth:800},delBtn:{float:"right"}})})),V=Object(u.f)((function(e){var t=K(),a=Object(n.useState)({screenData:[]}),i=Object(l.a)(a,2),c=i[0],o=i[1];Object(n.useEffect)((function(){U("/users/all",o)}),[]);var s=c.screenData.map((function(e,a){return r.a.createElement(Q.a,{className:t.paper,key:e.id},r.a.createElement("h2",{style:{display:"inline"}},"User ",a+1),r.a.createElement(O.a,{color:"secondary","aria-label":"delete",component:"div",className:t.delBtn,onClick:function(){return H(e.id,"/users/delete/",(function(){return U("/users/all",o)}),o)}},r.a.createElement($.a,null)),r.a.createElement(M.a,{container:!0,spacing:2},r.a.createElement(M.a,{item:!0,xs:12,md:6},r.a.createElement(j.a,null,r.a.createElement(w.a,{button:!0},r.a.createElement(y.a,{primary:"First name",secondary:e.firstName})),r.a.createElement(v.a,null),r.a.createElement(w.a,{button:!0,divider:!0},r.a.createElement(y.a,{primary:"Last name",secondary:e.lastName})))),r.a.createElement(M.a,{item:!0,xs:12,md:6},r.a.createElement(j.a,null,r.a.createElement(w.a,{button:!0},r.a.createElement(y.a,{primary:"Birth date",secondary:e.birthDate})),r.a.createElement(v.a,null),r.a.createElement(w.a,{button:!0,divider:!0},r.a.createElement(y.a,{primary:"Phone",secondary:e.phoneNumber}))))))}));return r.a.createElement("div",{className:t.root},s)})),Y=(a(134),a(182)),Z=a(97),ee=a(187),te=Object(F.a)((function(e){return Object(I.a)({root:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",maxWidth:800,marginLeft:"auto",marginRight:"auto"},icon:Object(o.a)({fontSize:45},e.breakpoints.down("xs"),{fontSize:30,marginRight:e.spacing(3)}),header:{fontWeight:"bold",fontFamily:"Arial",fontSize:18,margin:10},input:{maxWidth:250,margin:15}})})),ae=Object(u.f)((function(e){var t=te(),a=Object(n.useCallback)((function(t){var a,n,r,i,c;a="/products/add",n=t,r=e.oldState,i=e.updateProductsState,c=function(){return e.history.replace("/products/list")},G.a.post(J+a,n,T()).then((function(e){i({screenData:r.screenData.concat(e.data)}),console.log(e),null!=c&&c()})).catch((function(e){i({screenData:[].concat(r.screenData)}),console.log(e)}))}),[e.oldState,e.updateProductsState,e.history]),i=Object(Z.a)(),c=i.register,o=i.handleSubmit,l=(i.watch,i.errors);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{className:t.root},r.a.createElement("div",{className:t.header},"Add product"),r.a.createElement(ee.a,{required:!0,id:"prodName",name:"prodName",label:"Product Name",className:t.input,variant:"outlined",error:!!l.prodName,inputRef:c({required:!0,maxLength:250})}),l.prodName&&"Product name length invalid",r.a.createElement(ee.a,{required:!0,id:"weight",name:"weight",label:"Weight",type:"number",InputLabelProps:{shrink:!0},className:t.input,variant:"outlined",error:!!l.weight,inputRef:c({required:!0,min:0,max:150})}),l.weight&&"Weight value invalid",r.a.createElement(ee.a,{required:!0,id:"grossPrice",name:"grossPrice",label:"Gross price",type:"number",InputLabelProps:{shrink:!0},className:t.input,variant:"outlined",error:!!l.grossPrice,inputRef:c({required:!0,min:.01})}),l.grossPrice&&"Gross price value invalid",r.a.createElement(ee.a,{required:!0,id:"netPrice",name:"netPrice",label:"Net price",type:"number",InputLabelProps:{shrink:!0},className:t.input,variant:"outlined",error:!!l.netPrice,inputRef:c({required:!0,min:.01})}),l.netPrice&&"Net price value invalid",r.a.createElement(Y.a,{variant:"contained",color:"primary",type:"submit",className:t.input,onClick:o(a)},"Submit")))})),ne=Object(F.a)((function(e){return Object(I.a)({root:{flexGrow:1,marginTop:25},paper:{padding:e.spacing(2),fontSize:"0.9em",textAlign:"left",marginBottom:"2%",marginLeft:"auto",marginRight:"auto",maxWidth:800},delBtn:{float:"right"}})})),re=Object(u.f)((function(e){var t=ne(),a=Object(P.c)(W),i=Object(n.useState)({screenData:[]}),c=Object(l.a)(i,2),o=c[0],m=c[1];Object(n.useEffect)((function(){U("/products/list",m)}),[]);var d=o.screenData.map((function(e,n){return r.a.createElement(Q.a,{className:t.paper,key:e.id},r.a.createElement("h2",{style:{display:"inline"}},"Product ",n+1),a&&r.a.createElement(O.a,{color:"secondary","aria-label":"delete",component:"div",className:t.delBtn,onClick:function(){return H(e.id,"/products/delete/",(function(){return U("/products/list",m)}),m)}},r.a.createElement($.a,null)),r.a.createElement(M.a,{container:!0,spacing:2},r.a.createElement(M.a,{item:!0,xs:12,md:6},r.a.createElement(j.a,null,r.a.createElement(w.a,{button:!0},r.a.createElement(y.a,{primary:"Product name",secondary:e.prodName})),r.a.createElement(v.a,null),r.a.createElement(w.a,{button:!0,divider:!0},r.a.createElement(y.a,{primary:"Weight (kg)",secondary:e.weight})))),r.a.createElement(M.a,{item:!0,xs:12,md:6},r.a.createElement(j.a,null,r.a.createElement(w.a,{button:!0},r.a.createElement(y.a,{primary:"Net price",secondary:e.netPrice})),r.a.createElement(v.a,null),r.a.createElement(w.a,{button:!0,divider:!0},r.a.createElement(y.a,{primary:"Gross price",secondary:e.grossPrice}))))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/products/list",render:function(){return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(s.b,{to:"/products/list/add"},r.a.createElement(Y.a,{variant:"contained",color:"primary"},"Add Product")),r.a.createElement("div",{className:t.root},d))}}),r.a.createElement(u.a,{path:"/products/list/add",render:function(){return r.a.createElement(ae,{oldState:o,updateProductsState:m})}})))})),ie=a(90),ce=a.n(ie),oe=a(183),le=Object(F.a)((function(e){return Object(I.a)({root:{display:"flex"},icon:Object(o.a)({fontSize:45},e.breakpoints.down("xs"),{fontSize:30,marginRight:e.spacing(3)}),loginGoogleBar:Object(o.a)({backgroundColor:"#4F8AFF",width:250,borderRadius:2,borderWidth:1,color:"white",padding:3,textAlign:"center",verticalAlign:"center",marginLeft:-e.spacing(1)},e.breakpoints.down("xs"),{height:"1.7em",marginLeft:-e.spacing(3.5),fontSize:14,width:150})})})),se=Object(u.f)((function(e){var t=le();return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{onClick:function(){return window.location.assign(J+"/oauth2/authorize/"+"google"+"?redirect_uri=http://https://spring-boot-oauth2-products.herokuapp.com/login/auth")}},r.a.createElement(oe.a,{className:t.icon},r.a.createElement("img",{src:ce.a,style:{position:"relative",zIndex:1,width:"100%",height:"100%"},alt:"Login with google"})),r.a.createElement("div",{className:t.loginGoogleBar},"Login with google")))})),ue=Object(u.f)((function(e){var t=Object(P.b)();return Object(n.useEffect)((function(){t(C()),e.history.replace("/")})),r.a.createElement(r.a.Fragment,null,"Logging out...")})),me=Object(u.f)((function(e){var t=Object(P.b)();return Object(n.useEffect)((function(){var a=window.location.search.match(/token=(.+)/);a&&2===a.length?(localStorage.setItem("token",a[1]),e.history.replace("/users/list"),t(z())):(t(C()),e.history.replace("/"))})),r.a.createElement(r.a.Fragment,null,"Authenticating...")})),de=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,render:function(){return r.a.createElement("div",null,r.a.createElement(E.a,{paragraph:!0,style:{fontWeight:"bold"}},"Welcome to a sample React 'n Spring Boot 2 web page using: side by side OAuth2 and Form Login, Thymeleaf, JQuery, Bootstrap, Hibernate and H2 database"),r.a.createElement(Y.a,{href:"/admin",variant:"contained",color:"primary",type:"submit"},"Admin panel"))}}),e.authenticated&&r.a.createElement(u.a,{path:"/users/list",render:V}),r.a.createElement(u.a,{path:"/products/list",render:re}),r.a.createElement(u.a,{path:"/login",exact:!0,render:se}),r.a.createElement(u.a,{path:"/login/auth",exact:!0,render:me}),r.a.createElement(u.a,{path:"/logout",exact:!0,render:ue})))},pe=a(91),ge=a.n(pe),he=a(93),fe=a.n(he),be=a(92),Ee=a.n(be),ve=a(94),Oe=a.n(ve),je=function(e){return[{dest:"/login",text:"Login",icon:r.a.createElement(ge.a,{className:e.icon}),exact:!0,render:function(e){return!e}},{dest:"/logout",text:"Logout",icon:r.a.createElement(Ee.a,{className:e.icon}),exact:!0,render:function(e){return e}},{dest:"/products/list",text:"Products",icon:r.a.createElement(fe.a,{className:e.icon}),exact:!1},{dest:"/users/list",text:"Users",icon:r.a.createElement(Oe.a,{className:e.icon}),exact:!1,render:function(e){return e}}]},we=Object(u.f)((function(e){var t,a,i=Object(P.c)(W),c=_(),u=Object(n.useCallback)(je(c),[c]),m=Object(n.useState)(!1),x=Object(l.a)(m,2),N=x[0],B=x[1];return r.a.createElement("div",{className:c.root},r.a.createElement(b.a,null),r.a.createElement(h.a,{position:"fixed",className:Object(p.a)(c.appBar,Object(o.a)({},c.appBarShift,N))},r.a.createElement(f.a,null,r.a.createElement(O.a,{color:"inherit","aria-label":"open drawer",onClick:function(){B(!0)},edge:"start",className:Object(p.a)(c.menuButton,Object(o.a)({},c.hide,N))},r.a.createElement(k.a,null)),r.a.createElement(E.a,{variant:"h6",noWrap:!0},"OAuth2 Products"))),r.a.createElement(g.a,{variant:"permanent",className:Object(p.a)(c.drawer,(t={},Object(o.a)(t,c.drawerOpen,N),Object(o.a)(t,c.drawerClose,!N),t)),classes:{paper:Object(p.a)((a={},Object(o.a)(a,c.drawerOpen,N),Object(o.a)(a,c.drawerClose,!N),a))}},r.a.createElement("div",{className:c.toolbar},r.a.createElement(O.a,{onClick:function(e){B(!1)}},r.a.createElement(S.a,null))),r.a.createElement(v.a,null),r.a.createElement(j.a,null,u.map((function(e,t){return null==e.render||e.render(i)?r.a.createElement(s.b,{to:e.dest,activeClassName:[d.a.linkActive,d.a.navLink].join(" "),className:d.a.navLink,exact:e.exact,key:e.text},r.a.createElement(w.a,{button:!0},e.icon,r.a.createElement(y.a,{primary:e.text}))):""}))),r.a.createElement(v.a,null)),r.a.createElement("main",{className:c.content},r.a.createElement(de,{authenticated:i})))}));a(136);var ye=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(we,null)))},xe=Object(B.a)({reducer:{auth:D}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P.a,{store:xe},r.a.createElement(ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},58:function(e,t,a){e.exports={linkActive:"main_linkActive__1Wevk",navLink:"main_navLink__wBJr7"}},90:function(e,t,a){e.exports=a.p+"static/media/btn_google_dark_normal_ios.1bb80544.svg"}},[[104,1,2]]]);
//# sourceMappingURL=main.edd83bd7.chunk.js.map